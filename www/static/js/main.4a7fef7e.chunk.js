(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{299:function(e,t,n){e.exports=n(533)},533:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),c=n(22),o=n.n(c),l=(n(304),n(17)),u=n(18),s=n(148),m=n(212),d=n(211),p=n.n(d),h=n(19),b=n(62),v=n(63),f=n(536),O=n(210),j=new new O.a({timers:[],superTimer:{duration:"00:00:00",durationInSeconds:0,active:!1,currentCount:null,timeElapsed:0,complete:!1}}),E=function(e){var t=e.split(":");return parseInt(3600*t[0],10)+parseInt(60*t[1],10)+parseInt(t[2],10)},T=function(e){return new Date(1e3*e).toISOString().substr(11,8)},g=function(e){return e.length?Math.max.apply(Math,Object(v.a)(e.map(function(e){return e.durationInSeconds}))):0},C=function(e,t){return function(n){var a=Math.max(0,t-n.durationInSeconds-e);return Object(b.a)({},n,{timeToStartInSeconds:a,timeToStart:T(a),active:0===a})}},S=function(e){return function(t){return Object(b.a)({},t,{timeToStartInSeconds:e-t.durationInSeconds,timeToStart:T(e-t.durationInSeconds)})}},y=Object(f.a)((a={},Object(h.a)(a,"TIMER_CREATE",function(e,t){var n=Object(b.a)({},t.payload,{durationInSeconds:E(t.payload.duration),active:!1,complete:!1}),a=[].concat(Object(v.a)(e.get("timers")),[n]),r=g(a),i=Object(b.a)({},n,{timeToStartInSeconds:r-E(t.payload.duration),timeToStart:T(r-E(t.payload.duration))}),c=e.get("timers").map(S(r)),o=[].concat(Object(v.a)(c),[i]);return 0===t.payload.duration?e:e.set("timers",o).setIn(["superTimer","duration"],T(r)).setIn(["superTimer","durationInSeconds"],r)}),Object(h.a)(a,"TIMER_DELETE",function(e,t){if(!t.payload.length||e.getIn(["superTimer","active"]))return e;var n=Object(v.a)(e.get("timers").filter(function(e){return e.id!==t.payload})),a=g(n),r=n.map(S(a));return e.set("timers",r).setIn(["superTimer","durationInSeconds"],a).setIn(["superTimer","duration"],T(a))}),Object(h.a)(a,"TIMER_COMPLETE",function(e,t){var n,a=Object(v.a)(e.get("timers").map((n=t.payload,function(e){return e.id!==n?e:Object(b.a)({},e,{complete:!0,active:!1})})));return e.set("timers",a)}),Object(h.a)(a,"SUPER_TIMER_START",function(e){return 0===e.timers.length?e:function(e){var t=e.getIn(["superTimer","timeElapsed"]),n=e.get("timers"),a=e.getIn(["superTimer","durationInSeconds"]),r=n.map(C(t,a));return e.setIn(["superTimer","active"],!0).set("timers",r)}(e)}),Object(h.a)(a,"SUPER_TIMER_TICK",function(e,t){var n=t.payload,a=e.getIn(["superTimer","durationInSeconds"])-n,r=e.get("timers"),i=e.getIn(["superTimer","durationInSeconds"]),c=r.map(C(a,i));return e.setIn(["superTimer","currentCount"],n).setIn(["superTimer","timeElapsed"],a).set("timers",c)}),Object(h.a)(a,"SUPER_TIMER_COMPLETE",function(e){return e.setIn(["superTimer","complete"],!0).setIn(["superTimer","active"],!1)}),a),j),I=Object(u.c)({timers:y}),k=p()(),w=[m.a,Object(s.routerMiddleware)(k)],R=u.d.apply(void 0,[u.a.apply(void 0,w)].concat([])),M=Object(u.e)(Object(s.connectRouter)(k)(I),{},R),_=n(538),A=n(535),P=n(24),L=n(25),x=n(27),U=n(26),W=n(28),D=n(10),B=n(98),N=n(74),F=n.n(N),J=n(213),K=n.n(J),z=n(73),H=n(146),$=n.n(H),q=n(214),G=n.n(q),Q=n(215),V=n.n(Q),X=n(216),Y=n.n(X),Z=function(e){function t(){var e,n;Object(P.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(x.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(r)))).state={value:r.value||"00:00:00"},n.onChange=n.onChange.bind(Object(D.a)(Object(D.a)(n))),n}return Object(W.a)(t,e),Object(L.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value,n=this.state.value;void 0!==t&&t!==n&&this.setState({value:t})}},{key:"onChange",value:function(e){var t=this.state.value,n=e.replace(/-/g,":").padEnd(8,t.substr(5,3));this.setState({value:n})}},{key:"render",value:function(){var e=this.state.value,t=$()({fontFamily:"Arial",palette:{primary1Color:z.yellow800},textField:{floatingLabelColor:"#666"}}),n=this.props.onChange,a=void 0===n?this.onChange:n;return i.a.createElement("section",{className:"container"},i.a.createElement(G.a,{muiTheme:t},i.a.createElement("div",{style:{marginRight:20}},i.a.createElement(V.a,{style:{width:25,marginRight:6,marginBottom:-6},color:"#bbb"}),i.a.createElement(K.a,{showSeconds:!0,value:e,onChange:a,style:{width:82,fontSize:20},input:i.a.createElement(Y.a,{floatingLabelFixed:!0,floatingLabelText:"Time"})}))))}}]),t}(i.a.Component);Object(h.a)(Z,"defaultProps",{onChange:null,value:null});var ee=Z,te=n(417),ne="00:00:00",ae=function(e){function t(e){var n;return Object(P.a)(this,t),(n=Object(x.a)(this,Object(U.a)(t).call(this,e))).state={duration:ne},n.handleTimeChange=n.handleTimeChange.bind(Object(D.a)(Object(D.a)(n))),n.handleClick=n.handleClick.bind(Object(D.a)(Object(D.a)(n))),n}return Object(W.a)(t,e),Object(L.a)(t,[{key:"handleTimeChange",value:function(e){this.setState({duration:e})}},{key:"handleClick",value:function(){var e=this.props,t=e.createTimer,n=e.name,a=this.state.duration;a!==ne&&t({duration:a,id:te(),name:n})}},{key:"render",value:function(){var e=this,t=this.state.duration;return i.a.createElement("div",null,i.a.createElement(ee,{value:t,onChange:this.handleTimeChange}),i.a.createElement(F.a,{type:"submit",onClick:function(){e.handleClick()}},"Create timer"))}}]),t}(r.Component),re=n(537),ie=function(e){return Object(re.a)("TIMER_CREATE")(e)},ce=function(e){return Object(re.a)("TIMER_DELETE")(e)},oe=function(e){return Object(re.a)("TIMER_COMPLETE")(e)},le=function(e){return Object(re.a)("SUPER_TIMER_START")(e)},ue=function(e){return Object(re.a)("SUPER_TIMER_TICK")(e)},se=function(e){return Object(re.a)("SUPER_TIMER_COMPLETE")(e)},me=Object(l.connect)(null,function(e){return Object(u.b)({createTimer:ie},e)})(ae),de=n(97),pe=n.n(de),he=n(61),be=n.n(he),ve=n(58),fe=n.n(ve),Oe=n(59),je=n.n(Oe),Ee=n(41),Te=n.n(Ee),ge=n(147),Ce=n.n(ge),Se=n(75),ye=n.n(Se),Ie=n(218),ke=n.n(Ie),we=function(e){var t=e.active,n=e.complete,a=e.superTimerActive,r=e.deleteTimer,c=e.id;return t||n||a?null:i.a.createElement("div",null,i.a.createElement(Ce.a,null,i.a.createElement(ye.a,{onClick:function(){return r(c)}},"Delete ",i.a.createElement(ke.a,null))))},Re=Object(l.connect)(null,function(e){return Object(u.b)({deleteTimer:ce},e)})(we),Me=function(e){function t(e){var n;Object(P.a)(this,t);var a=(n=Object(x.a)(this,Object(U.a)(t).call(this,e))).props.timer.duration;return n.state={duration:a},n.handleComplete=n.handleComplete.bind(Object(D.a)(Object(D.a)(n))),n}return Object(W.a)(t,e),Object(L.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.timer,n=t.timeToStart,a=t.active,r=e.timer,i=r.timeToStart;return r.active!==a||i!==n}},{key:"handleComplete",value:function(){var e=this.props;(0,e.completeTimer)(e.timer.id)}},{key:"render",value:function(){var e=this.props,t=e.timer,n=t.name,a=t.active,r=t.timeToStart,c=t.id,o=t.complete,l=e.superTimerActive,u=this.state.duration;return i.a.createElement(fe.a,null,i.a.createElement(je.a,null,i.a.createElement(Te.a,{color:"textSecondary",gutterBottom:!0},"Timer"),i.a.createElement(Te.a,null,n),a&&i.a.createElement(pe.a,{date:be()().add(be.a.duration(u)).toDate(),onComplete:this.handleComplete}),!a&&!o&&i.a.createElement("p",null,u,", Time to start: ",r),o&&i.a.createElement("p",null,"Done!")),i.a.createElement(Re,{superTimerActive:l,active:a,id:c,complete:o}))}}]),t}(r.Component),_e=Object(l.connect)(function(e){return{superTimerActive:e.timers.superTimer.active}},function(e){return Object(u.b)({completeTimer:oe},e)})(Me),Ae=n(94),Pe=n.n(Ae),Le=function(e){function t(e){var n;return Object(P.a)(this,t),(n=Object(x.a)(this,Object(U.a)(t).call(this,e))).handleSubmitClick=n.handleSubmitClick.bind(Object(D.a)(Object(D.a)(n))),n.handleTick=n.handleTick.bind(Object(D.a)(Object(D.a)(n))),n.handleComplete=n.handleComplete.bind(Object(D.a)(Object(D.a)(n))),n}return Object(W.a)(t,e),Object(L.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.superTimer,n=t.duration,a=t.active;return e.superTimer.duration!==n||e.superTimer.active!==a}},{key:"handleSubmitClick",value:function(){var e=this.props,t=e.startSuperTimer;"00:00:00"!==e.superTimer.duration&&t()}},{key:"handleTick",value:function(e){var t=e.total;(0,this.props.tickSuperTimer)(t/1e3)}},{key:"handleComplete",value:function(){(0,this.props.completeSuperTimer)()}},{key:"render",value:function(){var e=this,t=this.props.superTimer,n=t.duration,a=t.active,r=t.complete;return i.a.createElement(fe.a,null,i.a.createElement(je.a,null,i.a.createElement(Te.a,{color:"textSecondary",gutterBottom:!0},"Total: ",n),a&&i.a.createElement(pe.a,{date:be()().add(be.a.duration(n)).toDate(),dayInHours:!0,onTick:this.handleTick,onComplete:this.handleComplete}),r&&i.a.createElement("p",null,"All done!")),(!a||!r)&&i.a.createElement(Pe.a,null,i.a.createElement(ye.a,{disabled:"00:00:00"===n,type:"submit",variant:"contained",color:"primary",onClick:function(){e.handleSubmitClick()}},"Start")))}}]),t}(r.Component),xe=Object(l.connect)(function(e){return{superTimer:e.timers.superTimer}},function(e){return Object(u.b)({startSuperTimer:le,tickSuperTimer:ue,completeSuperTimer:se},e)})(Le);var Ue=function(e){var t=e.timers;return i.a.createElement("div",null,t.map(function(e){return i.a.createElement(_e,{key:e.id,timer:e})}),i.a.createElement(xe,null))},We=Object(l.connect)(function(e){return{timers:e.timers.timers}},null)(Ue),De=function(e){function t(e){var n;return Object(P.a)(this,t),(n=Object(x.a)(this,Object(U.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(D.a)(Object(D.a)(n))),n.state={name:""},n}return Object(W.a)(t,e),Object(L.a)(t,[{key:"handleChange",value:function(e){var t=this;return function(n){t.setState(Object(h.a)({},e,n.target.value))}}},{key:"render",value:function(){var e=this.state.name;return i.a.createElement("div",null,i.a.createElement(B.a,{id:"item-name",label:"Name",value:this.name,onChange:this.handleChange("name"),margin:"normal"}),i.a.createElement(me,{name:e}),i.a.createElement(We,null))}}]),t}(i.a.Component),Be=Object(l.connect)(function(e){return{timers:e.timers.timers}},null)(De),Ne=function(e){function t(e){var n;return Object(P.a)(this,t),(n=Object(x.a)(this,Object(U.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(D.a)(Object(D.a)(n))),n.state={name:""},n}return Object(W.a)(t,e),Object(L.a)(t,[{key:"handleChange",value:function(e){var t=this;return function(n){t.setState(Object(h.a)({},e,n.target.value))}}},{key:"render",value:function(){var e=this.state.name;return i.a.createElement("div",null,i.a.createElement(B.a,{id:"item-name",label:"Name",value:this.name,onChange:this.handleChange("name"),margin:"normal"}),i.a.createElement(me,{name:e}),i.a.createElement(We,null))}}]),t}(i.a.Component),Fe=function(){return i.a.createElement(_.a,null,i.a.createElement("div",null,i.a.createElement(A.a,{path:"/",exact:!0,component:Be}),i.a.createElement(A.a,{path:"/add-item",exact:!0,component:Ne})))},Je=Object(l.connect)(null,null)(Fe),Ke=function(){return i.a.createElement(Je,null)},ze=Object(l.connect)(null,null)(Ke),He=function(){return i.a.createElement(l.Provider,{store:M},i.a.createElement(ze,null))};function $e(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ge(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");qe?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$e(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):$e(t,e)})}}var Qe=function(){Ge(),o.a.render(i.a.createElement(He,null),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",Qe,!1):Qe()}},[[299,2,1]]]);
//# sourceMappingURL=main.4a7fef7e.chunk.js.map